<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>サービス名考えなきゃ...//</title>
  <link rel="stylesheet" href="/style.css">
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="<%= theme_classes[:body] %> flex min-h-screen">
  <div class="max-w-md w-full mx-auto p-4 <%= theme_classes[:container] %> rounded-lg my-6 shadow-lg">

    <!-- テーマ切り替え -->
    <div class="flex mb-2 flex-wrap gap-2">
      <% THEMES.keys.each do |t| %>
        <form action="/theme/<%= t %>" method="post">
          <button class="px-3 py-1 rounded-full text-sm
            <%= theme == t ? "bg-blue-600 text-white" : "bg-gray-200 text-gray-600" %>">
            <%= t.capitalize %>
          </button>
        </form>
      <% end %>
    </div>

    <!-- Todo追加フォーム -->
    <form action="/add" method="post" class="todo-form flex items-center">
      <input type="text" name="content" placeholder="やることを入力"
        class="w-full px-4 py-2 outline-none rounded-md border h-10 mr-2
        <%= theme_classes[:input] %>
        duration-200 focus:border-blue-400 focus:ring-2">
      <button type="submit"
        class="px-4 py-2 <%= theme_classes[:button] %> rounded-full font-bold whitespace-nowrap">
        追加
      </button>
    </form>

    <!-- Todoリスト -->
    <ul class="todo-list mt-4 space-y-2">
      <% @todos.each do |todo| %>
        <li class="<%= theme_classes[:todo] %> px-4 py-2 rounded-md shadow-sm flex justify-between items-center">
          <span><%= todo[:content] %></span>
          <form action="/delete/<%= todo[:id] %>" method="post" style="display:inline;">
            <button type="submit"
              class="rounded-full px-3 py-1 text-red-500 font-bold text-sm whitespace-nowrap ml-2 hover:bg-red-200 duration-200">
              削除
            </button>
          </form>
        </li>
      <% end %>
    </ul>
  </div>
</body>
</html>
